using System;
using System.Windows.Forms;

namespace LAB0
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        double CheckDoubles(string Line, string Name)
        {
            try
            {
                double answer = Convert.ToDouble(Line);
                if (answer < 0)
                {
                    MessageBox.Show("Число не может быть меньше нуля: " + Name);
                    return -1;
                }
                return answer;  
            } catch
            {
                MessageBox.Show("Неправильный формат переменной: " + Name + ". Введите целые или дробные значения через запятую.");
                return -1;
            }
        }
        private void Calculation_Click(object sender, EventArgs e)
        {
            double Edge = CheckDoubles(textBoxA.Text, "a");
            double Radius = CheckDoubles(textBoxR.Text, "R");
            if (Radius != -1 && Edge != -1)
            {
                if (Radius > Edge / 2)
                {
                    MessageBox.Show("Радиус не может быть больше значения ребра куба, деленного на 2.");
                    return;
                }
                else if (Radius > 10000 || Edge > 10000 )
                {
                    MessageBox.Show("Ошибка. Недопустимое значение.");
                    return;
                }
                else
                {
                    double CubeVolume = Math.Pow(Edge, 3);
                    double BallVolume = 1.33 * 3.14 * Math.Pow(Radius, 3);
                    double PercentWaste = (CubeVolume - BallVolume) / CubeVolume * 100;
                    Result.Text = ("Ребро: ") + Convert.ToString(Math.Round(Edge, 2)) + (" см ") + ("\nРадиус: ") + Convert.ToString(Math.Round(Radius, 2)) + (" см ") + ("\nОбъем куба: ") + Convert.ToString(Math.Round(CubeVolume, 2)) + (" см3 ") + ("\nОбъем шара: ") + Convert.ToString(Math.Round(BallVolume, 2)) + (" см3 ") + ("\nПроцент отходов: ") + Convert.ToString(Math.Round(PercentWaste, 2)) + (" % ");
                }
            }
        }
    }
}
